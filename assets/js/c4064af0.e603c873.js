"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7331],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return u}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=c(n),u=i,h=m["".concat(s,".").concat(u)]||m[u]||p[u]||o;return n?a.createElement(h,r(r({ref:t},d),{},{components:n})):a.createElement(h,r({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5299:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return d}});var a=n(7462),i=n(3366),o=(n(7294),n(3905)),r=["components"],l={title:"C4 ExMan Sample Solution"},s=void 0,c={unversionedId:"solutions/c4-exman",id:"solutions/c4-exman",isDocsHomePage:!1,title:"C4 ExMan Sample Solution",description:"You do not find this in the sidebar and you will not. You must earn your path here \ud83d\udc7a",source:"@site/tasks/solutions/c4-exman.md",sourceDirName:"solutions",slug:"/solutions/c4-exman",permalink:"/swdt/tasks/solutions/c4-exman",editUrl:"https://github.com/nds-swe/swdt/edit/main/tasks/solutions/c4-exman.md",tags:[],version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1649407733,formattedLastUpdatedAt:"4/8/2022",frontMatter:{title:"C4 ExMan Sample Solution"},sidebar:"myAutogeneratedSidebar",previous:{title:"C4 Model Sample Solution",permalink:"/swdt/tasks/bites/solutions/c4-model"}},d=[{value:"Context",id:"context",children:[],level:2},{value:"Container diagram",id:"container-diagram",children:[{value:"Requirements",id:"requirements",children:[{value:"QR-003 UI",id:"qr-003-ui",children:[],level:4},{value:"QR-004 Location agnostic",id:"qr-004-location-agnostic",children:[],level:4},{value:"QR-004 Permission based",id:"qr-004-permission-based",children:[],level:4},{value:"QR-002 Modularity",id:"qr-002-modularity",children:[],level:4}],level:3}],level:2},{value:"Component diagram",id:"component-diagram",children:[{value:"Explanations",id:"explanations",children:[{value:"Monolithic approach",id:"monolithic-approach",children:[],level:4}],level:3}],level:2}],p={toc:d};function m(e){var t=e.components,l=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You do not find this in the sidebar and you will not. You must earn your path here \ud83d\udc7a"))),(0,o.kt)("h2",{id:"context"},"Context"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"ExMan context",src:n(949).Z})),(0,o.kt)("p",null,"This context is the result of RME work. It is the basis of the model we make below (together with further information from RME transfer tasks)."),(0,o.kt)("h2",{id:"container-diagram"},"Container diagram"),(0,o.kt)("img",{src:"https://www.plantuml.com/plantuml/png/bLHBRjim4Dth51DjwW1EZ09TTHKdDl91qhfrWYw3aJYsY4WaIr9ErA9dw0cwwo5wdbwWL-YGbXLPQ55K6rEZcJVptZpwn7cqlgvAc3_Te89bBJt1cLOUfIBhaWEfyh8M18NtnhsUJ2m-7g-bB-giTcHppYJbZtDTJKo9Aa0TEIzAcKtENXqjGkZkvdfIeVDaENJVOHyRparU09TM305vWMfD82IkBLRyeQIL1w_1odNXEMufzr8h_k8Uf3B8ML0oacyCWRQ-q4cou9cr6bMeS4rs3EdyoP2GeGvkji6KezkZ0rzGw6zGDMCek8C3gaof6-8JAW614ySw40ShgL3b4ikoIGzt_Kf2CMnt7MEXstajHSJh0Or144ErCrZwM7Fte0Dtq1QaZ-qTbKpQ0PFrCfSyfz_EnKNIGgWoeUXv4XILPF1qsR3W5Kp3Qv_nTX4Wq2CN9Tkq-rDTAu6s6UKl8udE2kaXV4w0dsvjismaCawQCKA6ZY9uitnt7GvX2EbunX4B8AHxE8pqdcc3L4olmd3c_dl88thYlKL3jbg6CQQBou1yXHk4fR5IhMD7hNJ9BfGvj0MibTt8FEnJMy5ByfowjxcupvwGV-x_I5dN-mDbC3KcChjOJAwMuHI2Q4nmvjPc0ueEzAflhBRDUoe71AECTuvSv3SxFHjcnb46edJvoxTl9XUtjuibhuYVvCjkb_CdFpAOF_GqNCJNDBupZCAolvAGZEkWLYiXpz73mjeNN7afs6VIDx2mUYF50EvojW0JFmISAPU4x3pkEGeVGjhAJzj8ZWOpoGkK5DQG1ChTdUsjOSUs9HhpMeV_HzQ-Ug3p71rF4Q_me6ntaV-1lW_RgSrMSdN5BLhJ_hsa5NM8dUGi6tjvfNNuIS-9VOcU1AoihjXHWiRmyzltNp--mdn3jk4Rm7gZOnSBEaYJ4rA2_rP_0m00",alt:null}),(0,o.kt)("h3",{id:"requirements"},"Requirements"),(0,o.kt)("h4",{id:"qr-003-ui"},"QR-003 UI"),(0,o.kt)("p",null,"Covered with the ",(0,o.kt)("inlineCode",{parentName:"p"},"ExMan Web App")," (which is not part of this lecture but more of ",(0,o.kt)("em",{parentName:"p"},"WEG (Web Engineering"),")."),(0,o.kt)("h4",{id:"qr-004-location-agnostic"},"QR-004 Location agnostic"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ExMan Web App")," is a hosted web app, accessible from any location with access to the internet."),(0,o.kt)("h4",{id:"qr-004-permission-based"},"QR-004 Permission based"),(0,o.kt)("p",null,"Permissions are managed from an external service ",(0,o.kt)("inlineCode",{parentName:"p"},"Identity Provider")," (which one is to be defined later)."),(0,o.kt)("h4",{id:"qr-002-modularity"},"QR-002 Modularity"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ExMan API")," starts out as monolith. In the current scope there is no advocation for using any for of microservices. The ",(0,o.kt)("inlineCode",{parentName:"p"},"ExMan API")," is the domain owner of ",(0,o.kt)("em",{parentName:"p"},"expeditions"),". This domain currently is small enough to not split the service up in any kind. Since it uses proper abstraction and hexagonal design it will not be problematic to split off some domains in future scenarios (e.g. HR component)."),(0,o.kt)("h2",{id:"component-diagram"},"Component diagram"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ExMan API")," manages the following domain:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"ExMan API domain",src:n(4469).Z})),(0,o.kt)("img",{src:"https://www.plantuml.com/plantuml/png/bLTTRkCs47xtAMQD0ci3IVpIfm8BhDT9kmcIhXidw6D0YHEP24KA9Et4BNg6dg1lFKJFqmlq2fsXPEl7Sk8yMHeDPpxEzt4u_ko3S66LQxXukH46flDBcDcyi0PD67nG9jKhYR0CeV0_J2PEF9zbAYnNoSgZIwq9v7QMsdnIQ64upgaFKgjaCll-TCwc-vlhIIvyG4UcXrteiu9y1n-1bkRq2kbIc0n1Af4vaTC7ZOy1WWMdicKWkyCqA6leYtzIfX3a1LeP39i2mRgmj8F1LCeBZHplJcIZ8JbgFJo1xv9iPhLrduRMSPRXkEjPeFFMj5mTodq_V2bGAiRHyiqSeY7lmOmA8WYKEqz6CZc1uRa88X4UoNruirdySiqFSygcVF0miePsvf_649O8TN1Gvj6wNCH4uphgmnUxCbAupGXVSc54eIZQZhVX-FS1rEIDlCgCChpOMQtHaU-2J71fe3OodaNXbCdW5dteV9bgRPyzCDUUoU2GfuenxITQe5kh51jPAaiZnHSKvfMu9q1kkN1AR-WRBxXMvWabnV9bB1zJtwBksLqNnhslt6kaOXMMCwteaK7G2qobA4Ah35kC5DgGvY8-fkVoV4xmx5f9zX96mbfe9OaaUWts2KqNt0vAAsq5guMhfhv5rqMjY6CP8os8hAabJ-azu-5Dv13FX8_mIz5xLd8GcV_KLFVu0BowkWriXtd-vj8bONGY82JCA7eFscOg1U5OoqsWxm9oYuNrAbYtQMEfxPp_QZu5rx8iw079fd5DpUdGcJk4XBdjvwglH3i1jfVj70xivi2ofa_iBIlsApVPrLCXqYTqEydDuolyA58XUuzZmXonrl653eCH6ZY2oDYfEdclRQIJha_XfTXQwfv7qtkLNQasAfWKhHptZBNIc653GLL37_TWgFcf01oMxpmUzstEfa9WLDwCyUn75F5WGIwAWcpZev2qMA_07AVVVK2z2Pck_S9toz3IM-TZ3z0Uz_T8CzQfVId5oXqhWvb3wYOdi2eaTnNhGD9XfgUoizLrA6__yNxonaKLCx_DVybjsRVeDh34kDlTI5ibGjh4-HQ8LabB7CTHNsBfPRvE5k-WRg4xcs_nsFwsZt3V-MtE3pMBr-JNuzyF-uzwAYg7eMTCTiFGhvZ0j2WYXL_dawi5Fx6HJYSJc9Ujf3rqUR2F5Ozv8So6Dx7OqE2QFroyR5lgBaNPKeVnlMgPZRkahtisOl4yG2il9Sb1XGrKEck7QyyRFAomTrgs7zOScwnJlvMML1GYKPhon_h4mzbgoxiDKE7yAYVXyin8xr_lxkQBQabpKgbGtbUyDjqw75QUCxlIaeSwBjt7aeMKJeWVbDHkMUePJBT9hXRVVfuqCzMh3in8HwpikNkEMBNVg7eN3L8g5hM3HslvP_WJaYIfCqbuT3OdCKagqBz__VtVFt_2nHhT9YpZ_EYf8qZyC1nyHYFflz3_",alt:null}),(0,o.kt)("h3",{id:"explanations"},"Explanations"),(0,o.kt)("h4",{id:"monolithic-approach"},"Monolithic approach"),(0,o.kt)("p",null,"The current domain could be split up into the domains ",(0,o.kt)("inlineCode",{parentName:"p"},"Skill"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Person")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Expedition"),". While this is architecturally a perfect and legit option, for the skill set of our developers its not. Also, the current scope is yet too small to already split the service up. The overhead of writing three APIs between the services is additionally luring us away from a microservice architecture."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Split the monolith!")),(0,o.kt)("p",null,"If one sleeps over the tipping point of a monolith split, one pays an enormous price. To avoid this disaster we take the following risk mitigation:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Proper and strict isolation of contexts (separation of concerns) allow an easier split later - no \ud83c\udf5d code, no randomly calling other out-of-layer entities",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Code reviews and pair programming will ensure that contexts are not violated"))),(0,o.kt)("li",{parentName:"ul"},"Hexagonal architecture provides us means to later exchange a ",(0,o.kt)("em",{parentName:"li"},"DB repository")," with a ",(0,o.kt)("em",{parentName:"li"},"remote repository")," fetching skills instead from a DB from another service"),(0,o.kt)("li",{parentName:"ul"},"Regular reviewing and challenging of the decision to stay with the monolith or split (upon every introduction of a new feature) - the management is to be made aware of this upcoming architectural change one day")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\ud83d\udca1")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"For educational purposes the future domains and their isolation within our ",(0,o.kt)("inlineCode",{parentName:"p"},"monolith")," are separated by colors. This is not ",(0,o.kt)("em",{parentName:"p"},"normal")," to do but should point out how each domain is within itself isolated. As hexagonal architecture ",(0,o.kt)("em",{parentName:"p"},"suggests")," dependencies flow inward, meaning that only at service level (logic layer) we will allow cross-service communication.\nWith that we can later take one domain, split it into a microservice but maintain 80% of our architecture thanks to proper ",(0,o.kt)("em",{parentName:"p"},"isolation"),"."))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\ud83d\udca1")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"For educational purposes the isolation and separation is quite verbose (it resembles quite a class diagram already). This verbosity could be abstracted in practice maybe a bit to reduce overhead."))))}m.isMDXComponent=!0},949:function(e,t,n){t.Z=n.p+"assets/images/exman-context-829262657987c5c33afd4a4dd022224a.png"},4469:function(e,t,n){t.Z=n.p+"assets/images/exman-domain-a31dc9816502e1ab5adec82f85f99fef.png"}}]);